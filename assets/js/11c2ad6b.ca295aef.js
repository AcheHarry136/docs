"use strict";(self.webpackChunkillusivesoulworks_docs=self.webpackChunkillusivesoulworks_docs||[]).push([[456],{6135:(e,i,t)=>{t.r(i),t.d(i,{assets:()=>c,contentTitle:()=>s,default:()=>u,frontMatter:()=>r,metadata:()=>a,toc:()=>l});var n=t(5893),o=t(1151);const r={sidebar_position:2},s="Creating a Curio",a={id:"curios/Developing with Curios/curio-creation",title:"Creating a Curio",description:"A tutorial on how to attach curio capabilities to your items.",source:"@site/docs/curios/Developing with Curios/curio-creation.md",sourceDirName:"curios/Developing with Curios",slug:"/curios/Developing with Curios/curio-creation",permalink:"/curios/Developing with Curios/curio-creation",draft:!1,unlisted:!1,editUrl:"https://github.com/illusivesoulworks/docs/edit/main/docs/curios/Developing with Curios/curio-creation.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Setting Up the Development Environment",permalink:"/curios/Developing with Curios/getting-started"},next:{title:"Data Generation",permalink:"/curios/Developing with Curios/data-generation"}},c={},l=[{value:"Overview",id:"overview",level:2},{value:"Attaching an <code>ICurio</code> capability",id:"attaching-an-icurio-capability",level:2},{value:"Implementing the <code>ICurioItem</code> interface",id:"implementing-the-icurioitem-interface",level:2},{value:"Registering an <code>ICurioItem</code> implementation",id:"registering-an-icurioitem-implementation",level:2},{value:"Priority",id:"priority",level:2}];function d(e){const i={admonition:"admonition",code:"code",h1:"h1",h2:"h2",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.h1,{id:"creating-a-curio",children:"Creating a Curio"}),"\n",(0,n.jsx)(i.p,{children:"A tutorial on how to attach curio capabilities to your items."}),"\n",(0,n.jsx)(i.h2,{id:"overview",children:"Overview"}),"\n",(0,n.jsx)(i.hr,{}),"\n",(0,n.jsx)(i.p,{children:"Curios comes with interfaces that you can attach to your items in order to define certain behaviors for those items when\ninteracting with curios slots. This includes events such as ticking while in a curio slot or triggering certain actions\nwhen equipped or unequipped into a curio slot."}),"\n",(0,n.jsxs)(i.p,{children:["There are three main ways to implement the capability on your item: directly attaching an ",(0,n.jsx)(i.code,{children:"ICurio"})," implementation as a\ncapability, extending the ",(0,n.jsx)(i.code,{children:"ICurioItem"})," interface on your item, or registering an ",(0,n.jsx)(i.code,{children:"ICurioItem"})," implementation to an item."]}),"\n",(0,n.jsxs)(i.p,{children:["Only ",(0,n.jsx)(i.strong,{children:"one"})," of these methods needs to be implemented for the curio item to work."]}),"\n",(0,n.jsxs)(i.h2,{id:"attaching-an-icurio-capability",children:["Attaching an ",(0,n.jsx)(i.code,{children:"ICurio"})," capability"]}),"\n",(0,n.jsx)(i.hr,{}),"\n",(0,n.jsx)(i.p,{children:"This is recommended for mods that are Forge-oriented, due to the use of capabilities, and want to attach the\ncapability optionally to their own items or another mod's items."}),"\n",(0,n.jsxs)(i.p,{children:["To attach the capability to your own items, override the ",(0,n.jsx)(i.code,{children:"IForgeItem#initCapabilities"})," method:"]}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{className:"language-java",children:"@Override\npublic ICapabilityProvider initCapabilities(ItemStack stack, CompoundTag unused) {\n    return CuriosApi.createCurioProvider(new ICurio() {\n    \n        @Override\n        public ItemStack getStack() {\n          return stack;\n        }\n\n        @Override\n        public void curioTick(SlotContext slotContext) {\n          // ticking logic here\n        }\n    });\n}\n"})}),"\n",(0,n.jsxs)(i.p,{children:["The ",(0,n.jsx)(i.code,{children:"ICurio"})," implementation in the example can be replaced or extended by your own custom implementation. The\nimplementation can also exist in a separate class altogether as long as the instantiation is still done in the\n",(0,n.jsx)(i.code,{children:"IForgeItem#initCapabilities"})," method."]}),"\n",(0,n.jsxs)(i.p,{children:["To attach the capability to any item, including vanilla's and other mods', subscribe to the\n",(0,n.jsx)(i.code,{children:"AttachCapabilitiesEvent<ItemStack>"})," and use its methods:"]}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{className:"language-java",children:"@SubscribeEvent\npublic void attachCapabilities(AttachCapabilitiesEvent<ItemStack> evt) {\n    ItemStack stack = evt.getObject();\n    Item item = stack.getItem();\n    evt.addCapability(CuriosCapability.ID_ITEM, CuriosApi.createCurioProvider(new ICurio() {\n    \n        @Override\n        public ItemStack getStack() {\n          return stack;\n        }\n        \n        @Override\n        public void curioTick(SlotContext slotContext) {\n          // ticking logic here\n        }\n    }));\n}\n"})}),"\n",(0,n.jsx)(i.admonition,{type:"note",children:(0,n.jsxs)(i.p,{children:["You will need to pass in the ",(0,n.jsx)(i.code,{children:"ItemStack"})," from the ",(0,n.jsx)(i.code,{children:"IForgeItem#initCapabilities"})," argument or the\n",(0,n.jsx)(i.code,{children:"AttachCapabilitiesEvent#getObject"})," result to the return of ",(0,n.jsx)(i.code,{children:"ICurio#getStack"})," as shown in the example. This makes sure\nthat the implementation receives the correct ",(0,n.jsx)(i.code,{children:"ItemStack"})," for further curios logic. Technically, ",(0,n.jsx)(i.code,{children:"ICurio#getStack"})," can\nreturn any stack if proxies are needed, but the use-case for that is outside the scope of this documentation."]})}),"\n",(0,n.jsxs)(i.h2,{id:"implementing-the-icurioitem-interface",children:["Implementing the ",(0,n.jsx)(i.code,{children:"ICurioItem"})," interface"]}),"\n",(0,n.jsx)(i.hr,{}),"\n",(0,n.jsx)(i.p,{children:"This is recommended for mods that want the simplest and most straightforward method, do not mind having Curios as a\nrequired dependency, and are only working with their own items."}),"\n",(0,n.jsxs)(i.p,{children:["To implement the ",(0,n.jsx)(i.code,{children:"ICurioItem"})," interface, simply implement it on your item class:"]}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{className:"language-java",children:"public class CurioItem extends Item implements ICurioItem {\n\n  public CurioItem() {\n    super(new Item.Properties().stacksTo(1).defaultDurability(0));\n  }\n\n  @Override\n  public void curioTick(SlotContext slotContext, ItemStack stack) {\n    // ticking logic here\n  }\n}\n"})}),"\n",(0,n.jsxs)(i.h2,{id:"registering-an-icurioitem-implementation",children:["Registering an ",(0,n.jsx)(i.code,{children:"ICurioItem"})," implementation"]}),"\n",(0,n.jsx)(i.hr,{}),"\n",(0,n.jsx)(i.p,{children:"This is recommended for multi-loader mods as a platform-agnostic method of registering Curios behavior to their own\nitems or another mod's items that can be loaded optionally."}),"\n",(0,n.jsxs)(i.p,{children:["To register an ",(0,n.jsx)(i.code,{children:"ICurioItem"})," implementation, first create the implementation:"]}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{className:"language-java",children:"public class CurioItem implements ICurioItem {\n\n  @Override\n  public void curioTick(SlotContext slotContext, ItemStack stack) {\n    // ticking logic here\n  }\n}\n"})}),"\n",(0,n.jsxs)(i.p,{children:["And then register it by using ",(0,n.jsx)(i.code,{children:"CurioApi#registerCurio"}),":"]}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{className:"language-java",children:"CuriosApi.registerCurio(CurioModItems.MY_ITEM, new CurioItem());\n"})}),"\n",(0,n.jsxs)(i.p,{children:["Registration can occur at any time, but for simplicity can be called during the ",(0,n.jsx)(i.code,{children:"FMLCommonSetupEvent"})," phase during mod\nloading:"]}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{className:"language-java",children:'@Mod("CurioMod")\npublic class CurioMod {\n  \n  public CurioMod() {\n    final IEventBus eventBus = FMLJavaModLoadingContext.get().getModEventBus();\n    eventBus.addListener(this::setup);\n  }\n\n  private void setup(final FMLCommonSetupEvent evt) {\n    CuriosApi.registerCurio(CurioModItems.MY_ITEM, new CurioItem());\n  }\n}\n'})}),"\n",(0,n.jsx)(i.h2,{id:"priority",children:"Priority"}),"\n",(0,n.jsx)(i.hr,{}),"\n",(0,n.jsx)(i.p,{children:"In situations where multiple implementations are registered to the same item, there a few things to take note of:"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"Only one implementation will be used on any one item, any other implementations found will be ignored."}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.code,{children:"ICurio"})," capabilities initialized through ",(0,n.jsx)(i.code,{children:"IForgeItem#initCapabilities"})," will always be prioritized and other\nimplementations will be ignored."]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.code,{children:"ICurioItem"})," implementations registered through ",(0,n.jsx)(i.code,{children:"CuriosApi#registerCurio"})," will be prioritized over ",(0,n.jsx)(i.code,{children:"ICurioItem"}),"\nimplementations directly on the item class."]}),"\n"]})]})}function u(e={}){const{wrapper:i}={...(0,o.a)(),...e.components};return i?(0,n.jsx)(i,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},1151:(e,i,t)=>{t.d(i,{Z:()=>a,a:()=>s});var n=t(7294);const o={},r=n.createContext(o);function s(e){const i=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function a(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),n.createElement(r.Provider,{value:i},e.children)}}}]);